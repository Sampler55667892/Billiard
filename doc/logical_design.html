<!DOCTYPE html>
<html>
<head>
</head>
<body>
<p>
    <div>
        <center>
            <h1>Logical design for "Billiard"</h1>
        </center>
        <div style="float:right;">
            Created at: 2018/10/21 (Sun.) P.M.<br>
            Updated at: 2018/10/24 (Wednes.) P.M.<br>
            Author: Kodera Hiroshi
        </div>
        <div>
            Table of contents<br>
            　#0 System image<br>
            　#1 Usecases<br>
            　#2 State transitions<br>
            　#3 Sequence diagrams<br>
            　#4 Class diagrams<br>
            　#5 Platform<br>
            　#6 Architecture of implementation
        </div>
        <br>
    </div>
    <div>
        <h2>#0 System image</h2>
        <center>
            <!-- (width, height) = (1154, 431) ; height = width * 0.373 -->
            <img src="figures/fig1a_system_image.jpg" width="900" height="336"><br>
            figure0　system image
        </center>
        <br>
        <br>
        <h2>#1 Usecases</h2>
            <div style="margin-left:50px;">
                <table style >
                    <thead>
                        <th>No</th><th>Client/Server</th><th>Content</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td>UC1</td><td>Client</td><td>Shows billiard board.</td>
                        </tr>
                        <tr>
                            <td>UC2</td><td>Client</td><td>Shows billiard balls.</td>
                        </tr>
                        <tr>
                            <td>UC3</td><td>Client</td><td>Shots billiard ball.</td>
                        </tr>
                        <tr>
                            <td>UC4</td><td>Client</td><td>Moves camera.</td>
                        </tr>
                        <tr>
                            <td>UC5</td><td>Client</td><td>Computes interaction among hit balls (Physics and Rigid body).</td>
                        </tr>
                        <tr>
                            <td>UC6</td><td>Client</td><td>Sets shot position.</td>
                        </tr>
                        <tr>
                            <td>UC7</td><td>Client</td><td>Sends next positions of balls (HTTP POST (body: json)).</td>
                        </tr>
                        <tr>
                            <td>UC8</td><td>Client</td><td>Sends gameover information ("White ball dropped" or "There is nothing to shot ball").</td>
                        </tr>
                        <tr>
                            <td>UC9</td><td>Client</td><td>Receives next positions of balls (Websocket).</td>
                        </tr>
                        <tr>
                            <td>UC10</td><td>Client</td><td>Receives turn which active or not (Websocket).</td>
                        </tr>
                        <tr>
                            <td>US1</td><td>Server</td><td>Receives next positions of balls (HTTP POST (body: json)).</td>
                        </tr>
                        <tr>
                            <td>US2</td><td>Server</td><td>Broadcast next positions of balls to each client (Websocket).</td>
                        </tr>
                        <tr>
                            <td>US3</td><td>Server</td><td>Broadcast gameover information to each client (Websocket).</td>
                        </tr>
                        <tr>
                            <td>UC4</td><td>Server</td><td>Broadcast turn which active or not to each client (Websocket).</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        <br>
        <h2>#2 State transitions</h2>
            2.1 Client side<br>
        <br>
            <center>
                <!-- (width, height) = (988, 403) ; height = width * 0.408 -->
                <img src="figures/fig2a_states_client_side.jpg">
            </center>
        <br>
            2.2 Server side<br>
        <br>
            <center>
                <!-- (width, height) = (752, 273) ; height = width * 0.363 -->
                <img src="figures/fig2b_states_server_side.jpg">
            </center>
        <br>
        <h2>#3 Sequence diagrams</h2>
            3.1 initialize<br>
        <br>
            <center>
                <!-- (width, height) = (691, 598) ; height = width * 0.865 -->
                <img src="figures/fig3a_initialize.jpg">
            </center>
        <br>
            3.2 shot a ball<br>
        <br>
            <center>
                <!-- (width, height) = (904, 544) ; height = width * 0.602 -->
                <img src="figures/fig3b_shot.jpg">
            </center>
        <br>
            3.3 game is over<br>
        <br>
            <center>
                <!-- (width, height) = (875, 517) ; height = width * 0.591 -->
                <img src="figures/fig3c_gameover.jpg">
            </center>
        <br>
        <h2>#4 Class diagrams</h2>
            <center>
                <!-- (width, height) = (1013, 378) ; height = width * 0.373 -->
                <img src="figures/fig4_class_diagrams.jpg">
            </center>
        <br>
        <h2>#5 Platform</h2>
            <div style="margin-left:50px;">
                <table>
                    <thead>
                       <th>Client/Server</th><th>Content</th>
                    </thead>
                    <tbody>
                       <tr>
                           <td>Client</td><td>Unity 2018.2.13f, Script Engine: .NET 4.x</td>
                       </tr>
                       <tr>
                           <td>Server</td><td>ASP.NET Core (C# 7.0) (VS2017) (or node.js)</td>
                       </tr>
                    </tbody>
                </table>
            </div>
        <br>
        <h2>#6 Architecture of implementation</h2><br>
        <br>
    </div>
</p>
</body>
</html>